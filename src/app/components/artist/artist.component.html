<app-loading *ngIf="loading"></app-loading>
<div *ngIf="!loading">
  <div class="row">
    <div class="col-2">
      <img
        [src]="artist.images | noImg"
        [alt]="artist.name"
        class="img-thumbnail img-circle"
      />
    </div>
    <div class="col">
      <h3>{{ artist.name }}</h3>
      <p>
        <a [href]="artist.external_urls.spotify" target="_blank"
          >Ir a la pagina del artista</a
        >
      </p>
    </div>
    <div class="col-4 text-right">
      <button class="btn btn-outline-danger">Regresar</button>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col">
      <table class="table table-dark table-hover">
        <thead>
          <tr>
            <th scope="col">Foto</th>
            <th scope="col">Album</th>
            <th scope="col">#Canciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of artistsAlbums">
            <td>
              <img
                [src]="item.images | noImg"
                class="img-circle img-thumb"
                alt="..."
              />
            </td>
            <td>{{ item.name }}</td>
            <th scope="row">{{ item.total_tracks }}</th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col">
      <table class="table table-dark table-hover">
        <thead>
          <tr>
            <th scope="col">Foto</th>
            <th scope="col" style="width: 25%">Album</th>
            <th scope="col" style="width: 25%">Cancion</th>
            <th scope="col" style="width: 40%">vista previa</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of artistsTopTracks">
            <td>
              <img
                [src]="item.album.images | noImg"
                class="img-thumb"
                [alt]="item.name"
              />
            </td>
            <td>{{ item.album.name }}</td>
            <th>{{ item.name }}</th>
            <th>
              <!-- <audio [src]="item.preview_url"></audio> -->

              <iframe
                style="border-radius: 12px"
                [src]="item.uri | track"
                width="100%"
                height="352"
                frameBorder="0"
                allowfullscreen=""
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy"
              ></iframe>
              <!-- <div id="embed-iframe"></div> -->
            </th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
